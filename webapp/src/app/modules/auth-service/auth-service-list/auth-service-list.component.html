<div id="collaboratorListProfile" class="page">
  <h2>{{ "auth-service-list.profiles" | translate }}</h2>

  <div fxLayoutAlign="space-between">
    <form class="search" fxLayout="row" fxLayoutGap="16px">
      <mat-form-field appearance="outline" fxFlex="80">
        <mat-label>{{
          "auth-service-list.search_collaborators" | translate
        }}</mat-label>
        <input matInput type="text" #filter />
        <mat-icon matSuffix style="cursor: pointer">search</mat-icon>
      </mat-form-field>

      <mat-form-field fxFlex="20" appearance="outline">
        <mat-label>{{ "auth-service-list.filter.name" | translate }}</mat-label>
        <mat-select
          (selectionChange)="selectList($event)"
          matInput
          disableRipple
        >
          <mat-option [value]="1">{{
            "auth-service-list.filter.all" | translate
          }}</mat-option>
          <mat-option [value]="2">{{
            "auth-service-list.filter.active" | translate
          }}</mat-option>
          <mat-option [value]="3">{{
            "auth-service-list.filter.inactive" | translate
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </div>

  <div class="envolti-table mat-elevation-z8" fxLayout="column">
    <table mat-table [dataSource]="filteredUserList" class="table">
      <ng-container matColumnDef="collaborator">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by collaborator"
          fxLayout="center"
          style="margin-top: 17px; margin-left: 50px"
        >
          {{ "auth-service-list.user" | translate }}
        </th>
        <br />
        <td mat-cell class="information" *matCellDef="let user">
          <br />
          <span
            >{{ user.firstName }}
            {{ user.lastName }}</span
          >
          <br />
          {{ user.office }}
          <br />
          {{ user.login }}
        </td>
      </ng-container>
      <ng-container matColumnDef="permissions">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by permissions"
        >
          {{ "auth-service-list.permissions" | translate }}
        </th>
        <td mat-cell class="information" *matCellDef="let user">
          <span>{{ user.profileName }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by status"
          fxLayout="center"
          style="margin-top: 17px; margin-left: 50px"
        >
          {{ "auth-service-list.filter.active" | translate }}
        </th>
        <td mat-cell class="information" *matCellDef="let user">
          <div
            [ngStyle]="
              user.inactive == 1
                ? {
                    'background-color': '#DCDCDC;',
                    'border-radius': '35px;',
                    'max-width': '59%;',
                    height: '35px;',
                    color: '#A9A9A9;',
                    border: ' 1px solid #A9A9A9;',
                    'text-align': 'center',
                    padding: '5px'
                  }
                : {
                    'background-color': '#E0FFFF;',
                    'border-radius': '35px;',
                    'max-width': '59%;',
                    height: '35px;',
                    color: '#00BFFF;',
                    border: ' 1px solid #00BFFF;',
                    'text-align': 'center',
                    padding: '5px'
                  }
            "
          >
            <span>{{
              user.inactive == 1 ? "Inativo" : "Ativo"
            }}</span>
          </div>
        </td>
      </ng-container>
      <hr size="10" width="50%" align="center" noshade />
      <ng-container matColumnDef="icon">
        <th
          mat-header-cell
          *matHeaderCellDef
          clas="icon-add"
          style="text-align: end"
        >
          <button
            class="edit-button"
            mat-flat-button
            color="primary"
            (click)="openDialog()"
          >
            <mat-icon>add</mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let collaborator"></td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="displayedCollaborator; sticky: true"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: displayedCollaborator"></tr>
    </table>
  </div>
</div>
